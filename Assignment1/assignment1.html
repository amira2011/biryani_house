<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Abid Biryani House</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>
    <nav class="navbar navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="javascript:;">
                <img src="img/logo.png" alt="" width="30" height="30">
                <span class="navbar-title">
                    Abid Biryani House
                </span>
            </a>
            <div class="ml-auto">
                <i class="fa fa-shopping-cart"></i>
                <span class="badge bg-primary rounded-pill" id="cart-item-count">4</span>

            </div>
        </div>
    </nav>
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-9 food-menu">
                <div class="row">
                    <div class="col-md-3">
                        <div class="menu-item" id="menu-1">
                            <img src="img/1.webp" alt="" class="img-fluid menu-img">
                            <div class="food-title mt-1">
                                McChicken
                            </div>
                            <div class="price" data-price="25">$25</div>
                            <div class="item-description">
                                This is the description about this food item. It's very yummy!
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-4">
                                    <input type="number" class="form-control qty" value="1">
                                </div>
                                <div class="col-md-8">
                                    <a href="javascript:;" class="add-to-cart btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="menu-item" id="menu-2">
                            <img src="img/2.webp" alt="" class="img-fluid menu-img">
                            <div class="food-title mt-1">
                                SPDP
                            </div>
                            <div class="price" data-price="15">$15</div>
                            <div class="item-description">
                                This is the description about this food item. It's very yummy!
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-4">
                                    <input type="number" class="form-control qty" value="1">
                                </div>
                                <div class="col-md-8">
                                    <a href="javascript:;" class="add-to-cart btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="menu-item" id="menu-3">
                            <img src="img/3.webp" alt="" class="img-fluid menu-img">
                            <div class="food-title mt-1">
                                Mutton Biryani
                            </div>
                            <div class="price" data-price="60">$60</div>
                            <div class="item-description">
                                This is the description about this food item. It's very yummy!
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-4">
                                    <input type="number" class="form-control qty" value="1">
                                </div>
                                <div class="col-md-8">
                                    <a href="javascript:;" class="add-to-cart btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="menu-item" id="menu-4">
                            <img src="img/4.webp" alt="" class="img-fluid menu-img">
                            <div class="food-title mt-1">
                                Chicken Biryani
                            </div>
                            <div class="price" data-price="50">$50</div>
                            <div class="item-description">
                                This is the description about this food item. It's very yummy!
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-4">
                                    <input type="number" class="form-control qty" value="1">
                                </div>
                                <div class="col-md-8">
                                    <a href="javascript:;" class="add-to-cart btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-5">
                    <div class="col-md-3">
                        <div class="menu-item" id="menu-5">
                            <img src="img/5.webp" alt="" class="img-fluid menu-img">
                            <div class="food-title mt-1">
                                Golgappe
                            </div>
                            <div class="price" data-price="35">$35</div>
                            <div class="item-description">
                                This is the description about this food item. It's very yummy!
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-4">
                                    <input type="number" class="form-control qty" value="1">
                                </div>
                                <div class="col-md-8">
                                    <a href="javascript:;" class="add-to-cart btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="menu-item" id="menu-6">
                            <img src="img/6.webp" alt="" class="img-fluid menu-img">
                            <div class="food-title mt-1">
                                Pulao
                            </div>
                            <div class="price" data-price="55">$55</div>
                            <div class="item-description">
                                This is the description about this food item. It's very yummy!
                            </div>
                            <div class="row mt-2">
                                <div class="col-md-4">
                                    <input type="number" class="form-control qty" value="1">
                                </div>
                                <div class="col-md-8">
                                    <a href="javascript:;" class="add-to-cart btn btn-primary">Add to Cart</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-md-3" style="text-align: right;">
                <h3 style="text-decoration: underline;">Your Cart</h3>
                <div id="empty-cart">Your cart is empty</div>
                <div id="cart-items"></div>
            </div>
        </div>
    </div>
    <style>
        .food-title {
            font-weight: 600;
        }

        .item-description {
            color: #A9A9A9;
            font-size: 13px;
        }

        .navbar-title {
            font-weight: 900;
            padding-left: 5px;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#cart-item-count").hide();
            $(".add-to-cart").click(function (e) {
                e.preventDefault();
                $("#empty-cart").hide();
                $(`#cart-total`).remove();
                var menuItem = $(this).closest(".menu-item");
                var menuId = $(menuItem).attr('id');
                var menuName = $(menuItem).find(".food-title").text();
                var itemQty = $(menuItem).find(".qty").val();
                var itemPrice = $(menuItem).find(".price").data("price");
                var menuImg = $(menuItem).find(".menu-img").attr("src");
                // if item is already in the cart, update the quantity and price
                if ($(`#cart-${menuId}`).length > 0) {
                    var qty = $(`#cart-${menuId}`).find(".cart-menu-qty").text();
                    $(`#cart-${menuId}`).find(".cart-menu-qty").text(parseInt(itemQty) + parseInt(qty));
                    var subPrice = parseInt($(`#cart-${menuId}`).find(".cart-menu-qty").text()) * parseFloat(itemPrice);
                    $(`#cart-${menuId}`).find(".cart-menu-price").text(`$${subPrice}`);
                    // else add item to the cart
                } else {
                    var subPrice = parseFloat(itemPrice) * parseInt(itemQty);
                    var html = `<div class='row mt-1' id='cart-${$(menuItem).attr('id')}'><div class='col-md-2 cart-menu-qty'>${itemQty}</div><div class='col-md-6'>${menuName}</div><div class='col-md-4'><strong class='cart-menu-price'>$${subPrice}</strong><a href='javascript:;' class='remove-item'><i class='fa fa-trash-can' style='padding-left: 5px; color: #c3c3c3;'></i></a></div></div>`;
                    $("#cart-items").append(html);
                }
                updateCartTotal();
            });
            $(document).on('click', '.remove-item', function (e) {
                e.preventDefault();
                $(this).closest(".row").remove();
                updateCartTotal();
            });
            function updateCartTotal() {
                var totalPrice = 0;
                var totalQty = 0;
                $('.cart-menu-price').each(function () {
                    totalPrice += parseFloat($(this).text().replace('$', ''));
                });
                $('.cart-menu-qty').each(function () {
                    totalQty += parseInt($(this).text());
                });
                if ($(`#cart-total`).length > 0) {
                    $(`#cart-total`).find(".cart-total-price").text(`$${totalPrice}`);
                } else {
                    var html = `<div class='row mt-1' id='cart-total' style='font-size: 22px;'><div class='col-md-2 cart-menu-tqty'></div><div class='col-md-6'>Total</div><div class='col-md-4'><div class='cart-total-price' style='font-weight: 600;'>$${totalPrice}</div></div></div>`;
                    $("#cart-items").append(html);
                }
                $("#cart-item-count").text(totalQty);
                $("#cart-item-count").show();
                if (totalQty <= 0) {
                    $("#cart-total").remove();
                    $("#empty-cart").show();
                }
            }
        })

    </script>
</body>

</html>